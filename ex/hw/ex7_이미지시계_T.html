<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ex7_이미지시계_T.html</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    //셋 타임아웃 사용. 한번 호출해야함(자기가 자기 자신)
    'use strict'
    // <img src="../../images/number/0.png" />

    //현재상황저장 전역변수
    let statusTime;

    function clock()  {
      let str = '';

      let today = new Date();
      //0 붙이기
      // let hh = ('0' + today.getHours()).substring(0);  이 방법도 가능하다
      let hh = ('0' + today.getHours()).slice(-2); //시간앞에 0을 붙인후 뒤에서 부터 2개만 뽑아온다
      str += `<img src='../../images/number/${hh.substring(0,1)}.png' />`;
      str += `<img src='../../images/number/${hh.substring(1)}.png' />`;
      str += " : ";

      let mm = ('0' + today.getMinutes()).slice(-2); //시간앞에 0을 붙인후 뒤에서 부터 2개만 뽑아온다
      str += `<img src='../../images/number/${mm.substring(0,1)}.png' />`;
      str += `<img src='../../images/number/${mm.substring(1)}.png' />`;
      str += " : ";

      let ss = ('0' + today.getSeconds()).slice(-2); //시간앞에 0을 붙인후 뒤에서 부터 2개만 뽑아온다
      str += `<img src='../../images/number/${ss.substring(0,1)}.png' />`;
      str += `<img src='../../images/number/${ss.substring(1)}.png' />`;

      demo.innerHTML = str;
    }


    function start() {
      clock();
      //콜백함수는 함수명만 호출해야함 ()붙이면 안됨
      statusTime = setTimeout(start, 1000);
    }

    //값을 세워라? 메모리에서 제거?
    function stop() {
      clearTimeout(statusTime)
    }

  </script>
</head>
<!-- 키자마자 작동할거면 바디에 온로드 -->
<body>
  <p><br /></p>
  <div class="container">
    <h2>인터넷 시계</h2>
    <p>
      <button type="button" onclick="start()" class="btn btn-success m2-2">시작</button>
      <button type="button" onclick="stop()" class="btn btn-danger m2-2">정지</button>
    </p>
    <hr />
    <div id="demo"></div>
  </div>
</body>
</html>